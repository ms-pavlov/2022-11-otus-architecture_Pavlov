В качестве клиента для игроков используется пользовательский UI.

Для игр используются следующие микросервисы:

- Сервис авторизации. Данный сервис используется для авторизации и регистрации игроков.
- Сервис с информацией об лобби для игр или турниров
- Игровой сервер. Сервис используется обработки и исполнения команд игры

Для взаимодействия пользовательского UI и микросервисов используется REST API писаные в соответствующих openApi.

Для взаимодействия микросервисов между собой используется очередь сообщений.

Взаимодействия микросервисов:
- Сервис авторизации при выдаче токена для игры посылает в очередь соопщение GameAccessRequestMessage с запросом
  информации о пользователях и правах на работу с игровыми объектами всем информационным сервисам. Если
  информационный сервис содержит информацию о запращиваемой игре, он возвращает GameAccessResponseMessage.
- Информационный сервер после создания новой игры отправдляет через очередь сообщение с информацией о новой игре. Первый игровой сервер, что получит данное сообщение, запустит игру.
- Игровой сервер может приостановить работу одной из игр, упаковать текущее состояние игры в сообщение и через очередь направить другому игровому серверу.
- Информационный сервер может запросить (GameStatusRequestMessage) состояние игры у игровых серверов.
- Игровой сервер по завершении игры или после получения сообщения с запросом статуса отправляет информацию о текущем статусе (GameStatusResponseMessage) игры информационным серверам.

Узкие места и потенциальные проблемы масштабирования приложения и способы их решения:

- Сервис авторизации. Для сервиса авторизации необходимо вести актуальную базу пользователей, поэтому при масштабировании необходимо учитывать данный факт и для базы данных пользователя понадобиться делать репликацию или развертывать кластер.
  Получение информации об игре и правах пользователей так же может занять продолжительное время. Поэтому имеет смысл ограничить время на получение ответов от игровых серверов. Если ни от одного информационного сервера не пришел ответ за ограниченное время, токен для пользователя не формируется.

Компоненты, к которым чаще всего будут меняться требования:

- Пользовательский UI. Добавление новых правил или команд потребует изменение в пользовательском UI.
- Игровой сервер. Добавление новых правил или команд потребует изменение в Игровом сервере. В качестве меры по выполнению OCP все правила и команды необходимо хранить в виде плагинов для IoC контейнере которые при запуске новой игры будут добавляться с отдельный scope  созданный для этой игры.



    
